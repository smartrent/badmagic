# Changelog

## v0.0.25

- If `deprecated: true` is specified for a route, it will show a deprecated tag in the UI for that route
- Autocollapse portions of large json response to improve rendering performance

## v0.0.24

### Bugfixes

- New routes weren't showing up if local storage wasn't cleared for that workspace
- Select dropdowns were inadvertently changed to text inputs

## v0.0.23

### Features

- Adds array support for a Param by specifying `{array: true}` in the options

### Bugfixes

- `defaultValue` is now of type `any` from type `string`
- Allow falsy values in query string (values are omitted if they are undefined)

## Enhancements

- Upgrades `axios` to `0.21.1` to patch a security vulnerability

## v0.0.22

### Features

- Adds `useGlobalContext` as well as `OpenApi` to exports
- Adds support for `Download OpenApi` json
  - If OpenApi specs are not passed in, OpenApi JSON is derived from the workspace information. Note: Badmagic cannot derive responses

### Bugfixes

- Fixes a bug where if `setEnvVar` was called twice in a row, the first set of changes would be lost
- Fixes a bug where new routes were showing `0` in the response section

### Enhancements

- Adds `Jest` for testability
- Adds more Typescript strictness by reducing implicit anys
- Misc UI cleanup

## v0.0.21

### Features

- Added a button to explicitly set request param values to `null`
- Added a preview of the request body

### Bugfixes

- Clearing a param value removes it from the request instead of setting the value to `null` ([#26](https://github.com/smartrent/badmagic/issues/26))
- Headers render with a light font color in dark mode

## v0.0.20

### Bugfixes

- Fix clicking on tab such as `Documentation` scrolling to the top of the page

## v0.0.19

### Bugfixes

- If you have a dropdown option with a value of `false` it would revert to the `Select One` option (if that existed). Now `false` is handled appropriately and we just check against `null` or `undefined` for reverting back to `Select One`

### Breaking Change

- `Documentation` tab now requires `html` generated by the webpack `markdown-loader` (usually passed through the `html-loader`) whereas before it would take a JS template string that had markdown inside and parse that string

## v0.0.18

### Features

- Keyword search is workspace specific now
- Better object params support: specifying a key of `properties` will infer that the param is an object (see example below)
- A route can have `sticky: true` added to it so that it cannot be filtered with keyword search
- `Documentation` tab is hidden if there is no documentation specified
- Environment variables previously needed to be saved through click of a button, we've removed the button in favor of using the Enter key

#### New Object Support

```javascript
{
  name: "Create User",
  path: "/v1/users",
  method: Method.POST,
  body: [
    {
      name: "user",
      label: "User",
      properties: [
        { name: "first_name", required: true },
        { name: "last_name", required: true },
        { name: "email", required: true },
        { name: "dob", type: "date" },
      ],
    },
  ]
}
```

### Breaking Changes

- Context no longer has support for `setRouteFilter` and `routeFilter` since it's now namespaced to a workspace. Please use `setWorkspaceSearchKeywords(keywords)` and `getWorkspaceSearchKeywords()` instead

### Notes

- We are going to deprecate `json` as a param option in a future version in favor of a param that has `properties`. We will probably need to do something to have stronger array support so we will leave `json` for now

## v0.0.17

### Features

- Mark URL Params as required (note: it will not enforce this currently)
- If there are no QS params, do not include `?` in the request
- Handle non-json Axios 200 responses and non-json error responses

## v0.0.16

### Features

- Add new `documentation` key to routes to provide Markdown documentation to your end-users

## v0.0.15

### Features

- Style refactor using TailwindCSS

## v0.0.14

### Features

- Dark Mode
- Fixed header for workspaces, search, and env
- Adds ReactJsonView for responses

## v0.0.13

### Features

- Routes collapsed by default
- Inputs have `Set Null` button
- Routes have a reset form button
- Improve Route / Request Spacing

### Bugfixes

- Default values are now applied without requiring a keystroke
